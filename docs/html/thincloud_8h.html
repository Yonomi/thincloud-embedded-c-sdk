<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ThinCloud Embedded C SDK: thincloud.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ThinCloud Embedded C SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">thincloud.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;json-c/json.h&gt;</code><br />
<code>#include &quot;aws_iot_log.h&quot;</code><br />
<code>#include &quot;aws_iot_error.h&quot;</code><br />
<code>#include &quot;aws_iot_mqtt_client_interface.h&quot;</code><br />
</div>
<p><a href="thincloud_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8f50e6165c50b7b13bcd5a7f7be4ea59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a8f50e6165c50b7b13bcd5a7f7be4ea59">TC_ID_LENGTH</a>&#160;&#160;&#160;37</td></tr>
<tr class="separator:a8f50e6165c50b7b13bcd5a7f7be4ea59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17438d0e0fed8ecf8907712bd3d1035"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#aa17438d0e0fed8ecf8907712bd3d1035">MAX_TOPIC_LENGTH</a>&#160;&#160;&#160;257</td></tr>
<tr class="separator:aa17438d0e0fed8ecf8907712bd3d1035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18aa71f75f5c6c4fe1097e13a3c054bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a18aa71f75f5c6c4fe1097e13a3c054bc">REQUEST_METHOD_GET</a>&#160;&#160;&#160;&quot;GET&quot;</td></tr>
<tr class="separator:a18aa71f75f5c6c4fe1097e13a3c054bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91540e83379cadcd55447e4940794112"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a91540e83379cadcd55447e4940794112">REQUEST_METHOD_PUT</a>&#160;&#160;&#160;&quot;PUT&quot;</td></tr>
<tr class="separator:a91540e83379cadcd55447e4940794112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7c5bc46ac350e9d92b02cd16b5c198"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a9b7c5bc46ac350e9d92b02cd16b5c198">REQUEST_METHOD_POST</a>&#160;&#160;&#160;&quot;POST&quot;</td></tr>
<tr class="separator:a9b7c5bc46ac350e9d92b02cd16b5c198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f163cd1abd8ae2d463aa913d602fa86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a7f163cd1abd8ae2d463aa913d602fa86">REQUEST_METHOD_DELETE</a>&#160;&#160;&#160;&quot;DELETE&quot;</td></tr>
<tr class="separator:a7f163cd1abd8ae2d463aa913d602fa86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afb317c6af279731fbde4352fdab49143"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#afb317c6af279731fbde4352fdab49143">commission_request_topic</a> (char *buffer, const char *deviceType, const char *physicalId)</td></tr>
<tr class="memdesc:afb317c6af279731fbde4352fdab49143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a commission request topic.  <a href="#afb317c6af279731fbde4352fdab49143">More...</a><br /></td></tr>
<tr class="separator:afb317c6af279731fbde4352fdab49143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bc0ec274f18d20093ac1dd067292ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#ae6bc0ec274f18d20093ac1dd067292ff">commission_response_topic</a> (char *buffer, const char *deviceType, const char *physicalId, const char *requestId)</td></tr>
<tr class="memdesc:ae6bc0ec274f18d20093ac1dd067292ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a commission response topic.  <a href="#ae6bc0ec274f18d20093ac1dd067292ff">More...</a><br /></td></tr>
<tr class="separator:ae6bc0ec274f18d20093ac1dd067292ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ebbbc9590652d3e1df1328af53fc4d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#ac4ebbbc9590652d3e1df1328af53fc4d">command_request_topic</a> (char *buffer, const char *deviceId)</td></tr>
<tr class="memdesc:ac4ebbbc9590652d3e1df1328af53fc4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a command request topic.  <a href="#ac4ebbbc9590652d3e1df1328af53fc4d">More...</a><br /></td></tr>
<tr class="separator:ac4ebbbc9590652d3e1df1328af53fc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7bccd2c5f099a36f8c68df9a2f34dc3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#ae7bccd2c5f099a36f8c68df9a2f34dc3">command_response_topic</a> (char *buffer, const char *deviceId, const char *commandId)</td></tr>
<tr class="memdesc:ae7bccd2c5f099a36f8c68df9a2f34dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a command response topic.  <a href="#ae7bccd2c5f099a36f8c68df9a2f34dc3">More...</a><br /></td></tr>
<tr class="separator:ae7bccd2c5f099a36f8c68df9a2f34dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6490d44d7521c47df22a557d69af85"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a8f6490d44d7521c47df22a557d69af85">service_request_topic</a> (char *buffer, const char *deviceId)</td></tr>
<tr class="memdesc:a8f6490d44d7521c47df22a557d69af85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a service request topic.  <a href="#a8f6490d44d7521c47df22a557d69af85">More...</a><br /></td></tr>
<tr class="separator:a8f6490d44d7521c47df22a557d69af85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad67cde59183ff29b08c8909b3ee3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#abad67cde59183ff29b08c8909b3ee3d4">service_response_topic</a> (char *buffer, const char *deviceId, const char *requestId)</td></tr>
<tr class="memdesc:abad67cde59183ff29b08c8909b3ee3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a service response topic.  <a href="#abad67cde59183ff29b08c8909b3ee3d4">More...</a><br /></td></tr>
<tr class="separator:abad67cde59183ff29b08c8909b3ee3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeccf99af96aa095ea4e41128a75cd197"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#aeccf99af96aa095ea4e41128a75cd197">commissioning_request</a> (char *buffer, const char *requestId, const char *deviceType, const char *physicalId)</td></tr>
<tr class="memdesc:aeccf99af96aa095ea4e41128a75cd197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a commissioning request.  <a href="#aeccf99af96aa095ea4e41128a75cd197">More...</a><br /></td></tr>
<tr class="separator:aeccf99af96aa095ea4e41128a75cd197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8937ca07466ed1fc060c967b8171ed"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a3f8937ca07466ed1fc060c967b8171ed">commissioning_response</a> (char *deviceId, uint16_t *statusCode, char *requestId, char *payload, uint16_t payloadLen)</td></tr>
<tr class="memdesc:a3f8937ca07466ed1fc060c967b8171ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmarshall a commissioning response.  <a href="#a3f8937ca07466ed1fc060c967b8171ed">More...</a><br /></td></tr>
<tr class="separator:a3f8937ca07466ed1fc060c967b8171ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b5cb85b0885dc2ad88e5446b4ba052"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a98b5cb85b0885dc2ad88e5446b4ba052">command_response</a> (char *buffer, const char *requestId, uint16_t statusCode, bool isErrorResponse, char *errorMessage, json_object *body)</td></tr>
<tr class="memdesc:a98b5cb85b0885dc2ad88e5446b4ba052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marshal a command response.  <a href="#a98b5cb85b0885dc2ad88e5446b4ba052">More...</a><br /></td></tr>
<tr class="separator:a98b5cb85b0885dc2ad88e5446b4ba052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711278c6103ad80ac0c557fefa94a32f"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a711278c6103ad80ac0c557fefa94a32f">command_request</a> (char *requestId, char *method, json_object **params, const char *payload, const unsigned int payloadLen)</td></tr>
<tr class="memdesc:a711278c6103ad80ac0c557fefa94a32f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmarshall a command request payload.  <a href="#a711278c6103ad80ac0c557fefa94a32f">More...</a><br /></td></tr>
<tr class="separator:a711278c6103ad80ac0c557fefa94a32f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb9364e8c6bb9e6d1a4cd14b4409b5f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#afb9364e8c6bb9e6d1a4cd14b4409b5f9">service_request</a> (char *buffer, const char *requestId, const char *method, json_object *params)</td></tr>
<tr class="memdesc:afb9364e8c6bb9e6d1a4cd14b4409b5f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marshal a service request.  <a href="#afb9364e8c6bb9e6d1a4cd14b4409b5f9">More...</a><br /></td></tr>
<tr class="separator:afb9364e8c6bb9e6d1a4cd14b4409b5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c707008750cf2af4f74eda41f1372d"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#af8c707008750cf2af4f74eda41f1372d">service_response</a> (char *requestId, uint16_t *statusCode, json_object **data, const char *payload, const unsigned int payloadLen)</td></tr>
<tr class="memdesc:af8c707008750cf2af4f74eda41f1372d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmarshall a service response payload.  <a href="#af8c707008750cf2af4f74eda41f1372d">More...</a><br /></td></tr>
<tr class="separator:af8c707008750cf2af4f74eda41f1372d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6a737aa28611694cf6cb0971622cbf"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#abb6a737aa28611694cf6cb0971622cbf">send_command_response</a> (AWS_IoT_Client *client, const char *deviceId, const char *commandId, uint16_t statusCode, bool isErrorResponse, char *errorMessage, json_object *body)</td></tr>
<tr class="memdesc:abb6a737aa28611694cf6cb0971622cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a command response.  <a href="#abb6a737aa28611694cf6cb0971622cbf">More...</a><br /></td></tr>
<tr class="separator:abb6a737aa28611694cf6cb0971622cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f8012ef03c84d930b4f6eecbd31f0c"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a10f8012ef03c84d930b4f6eecbd31f0c">send_commissioning_request</a> (AWS_IoT_Client *client, const char *requestId, const char *deviceType, const char *physicalId)</td></tr>
<tr class="memdesc:a10f8012ef03c84d930b4f6eecbd31f0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send commissioning request.  <a href="#a10f8012ef03c84d930b4f6eecbd31f0c">More...</a><br /></td></tr>
<tr class="separator:a10f8012ef03c84d930b4f6eecbd31f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc9184374a9f2d760286f4e050b7b97e"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#acc9184374a9f2d760286f4e050b7b97e">send_service_request</a> (AWS_IoT_Client *client, const char *requestId, const char *deviceId, const char *method, json_object *reqParams)</td></tr>
<tr class="memdesc:acc9184374a9f2d760286f4e050b7b97e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send service request.  <a href="#acc9184374a9f2d760286f4e050b7b97e">More...</a><br /></td></tr>
<tr class="separator:acc9184374a9f2d760286f4e050b7b97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2255c3713d8d0df3c6c99beb5b8d051c"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a2255c3713d8d0df3c6c99beb5b8d051c">subscribe_to_commissioning_response</a> (AWS_IoT_Client *client, const char *requestId, const char *deviceType, const char *physicalId, pApplicationHandler_t handler, void *subscribeData)</td></tr>
<tr class="memdesc:a2255c3713d8d0df3c6c99beb5b8d051c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to commissioning respones.  <a href="#a2255c3713d8d0df3c6c99beb5b8d051c">More...</a><br /></td></tr>
<tr class="separator:a2255c3713d8d0df3c6c99beb5b8d051c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80e8155b3589d6ab203f0947acc59a0"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#af80e8155b3589d6ab203f0947acc59a0">subscribe_to_command_request</a> (AWS_IoT_Client *client, const char *deviceId, pApplicationHandler_t handler, void *subscribeData)</td></tr>
<tr class="memdesc:af80e8155b3589d6ab203f0947acc59a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to command requests.  <a href="#af80e8155b3589d6ab203f0947acc59a0">More...</a><br /></td></tr>
<tr class="separator:af80e8155b3589d6ab203f0947acc59a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3e69fc01eb8f835da79f6457499bfd"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a8b3e69fc01eb8f835da79f6457499bfd">subscribe_to_service_response</a> (AWS_IoT_Client *client, const char *deviceId, const char *requestId, pApplicationHandler_t handler, void *subscribeData)</td></tr>
<tr class="memdesc:a8b3e69fc01eb8f835da79f6457499bfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to service responses.  <a href="#a8b3e69fc01eb8f835da79f6457499bfd">More...</a><br /></td></tr>
<tr class="separator:a8b3e69fc01eb8f835da79f6457499bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30fe1e6714cb49a921d57244b10ec82f"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a30fe1e6714cb49a921d57244b10ec82f">tc_init</a> (AWS_IoT_Client *client, char *hostAddr, char *rootCAPath, char *clientCRTPath, char *clientKeyPath, iot_disconnect_handler handler, void *disconnectData)</td></tr>
<tr class="memdesc:a30fe1e6714cb49a921d57244b10ec82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an AWS IoT Client.  <a href="#a30fe1e6714cb49a921d57244b10ec82f">More...</a><br /></td></tr>
<tr class="separator:a30fe1e6714cb49a921d57244b10ec82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da5634005c1be1fdfaeddfd5d9104e0"><td class="memItemLeft" align="right" valign="top">IoT_Error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thincloud_8h.html#a9da5634005c1be1fdfaeddfd5d9104e0">tc_connect</a> (AWS_IoT_Client *client, char *clientId, bool autoReconnect)</td></tr>
<tr class="memdesc:a9da5634005c1be1fdfaeddfd5d9104e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start MQTT connection to ThinCloud host.  <a href="#a9da5634005c1be1fdfaeddfd5d9104e0">More...</a><br /></td></tr>
<tr class="separator:a9da5634005c1be1fdfaeddfd5d9104e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa17438d0e0fed8ecf8907712bd3d1035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa17438d0e0fed8ecf8907712bd3d1035">&#9670;&nbsp;</a></span>MAX_TOPIC_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TOPIC_LENGTH&#160;&#160;&#160;257</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7f163cd1abd8ae2d463aa913d602fa86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f163cd1abd8ae2d463aa913d602fa86">&#9670;&nbsp;</a></span>REQUEST_METHOD_DELETE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REQUEST_METHOD_DELETE&#160;&#160;&#160;&quot;DELETE&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a18aa71f75f5c6c4fe1097e13a3c054bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18aa71f75f5c6c4fe1097e13a3c054bc">&#9670;&nbsp;</a></span>REQUEST_METHOD_GET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REQUEST_METHOD_GET&#160;&#160;&#160;&quot;GET&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b7c5bc46ac350e9d92b02cd16b5c198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b7c5bc46ac350e9d92b02cd16b5c198">&#9670;&nbsp;</a></span>REQUEST_METHOD_POST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REQUEST_METHOD_POST&#160;&#160;&#160;&quot;POST&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91540e83379cadcd55447e4940794112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91540e83379cadcd55447e4940794112">&#9670;&nbsp;</a></span>REQUEST_METHOD_PUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REQUEST_METHOD_PUT&#160;&#160;&#160;&quot;PUT&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f50e6165c50b7b13bcd5a7f7be4ea59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f50e6165c50b7b13bcd5a7f7be4ea59">&#9670;&nbsp;</a></span>TC_ID_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TC_ID_LENGTH&#160;&#160;&#160;37</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copyright 2019 Yonomi, Inc. or its affiliates. All Rights Reserved.</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.Thincloud C Embedded SDK</p>
<p>Contains utilities to construct ThinCloud standard topics and marshal and unmarshal request and responses. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a711278c6103ad80ac0c557fefa94a32f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a711278c6103ad80ac0c557fefa94a32f">&#9670;&nbsp;</a></span>command_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t command_request </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object **&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>payloadLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmarshall a command request payload. </p>
<p>Unmarshall a command request from a string payload.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">requestId</td><td>ID of the original request. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">method</td><td>Command method. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">params</td><td>Command request parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Response payload. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payloadLen</td><td>Reponse payload's length.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, a negative value otherwise </dd></dl>

</div>
</div>
<a id="ac4ebbbc9590652d3e1df1328af53fc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ebbbc9590652d3e1df1328af53fc4d">&#9670;&nbsp;</a></span>command_request_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int command_request_topic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a command request topic. </p>
<p>Constructs a command request topic of the format: "thincloud/devices/{deviceId}/command</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Device's ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed string or a negative value on error </dd></dl>

</div>
</div>
<a id="a98b5cb85b0885dc2ad88e5446b4ba052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b5cb85b0885dc2ad88e5446b4ba052">&#9670;&nbsp;</a></span>command_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int command_response </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>statusCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isErrorResponse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>errorMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object *&#160;</td>
          <td class="paramname"><em>body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marshal a command response. </p>
<p>Marshal a command response into a JSON string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Command request's ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">statusCode</td><td>Command's response status. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isErrorResponse</td><td>Signals if a command responds with an error. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">errorMessage</td><td>Response error message. Only used if isErrorResponse is set to true. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">body</td><td>Command response body.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed payload or a negative value on error </dd></dl>

</div>
</div>
<a id="ae7bccd2c5f099a36f8c68df9a2f34dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7bccd2c5f099a36f8c68df9a2f34dc3">&#9670;&nbsp;</a></span>command_response_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int command_response_topic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>commandId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a command response topic. </p>
<p>Constructs a command response topic of the format: "thincloud/devices/{deviceId}/command/{commandId}/response</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Devices's ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Command request's ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed string or a negative value on error </dd></dl>

</div>
</div>
<a id="afb317c6af279731fbde4352fdab49143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb317c6af279731fbde4352fdab49143">&#9670;&nbsp;</a></span>commission_request_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int commission_request_topic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>physicalId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a commission request topic. </p>
<p>Constructs a commission request topic of the format: "thincloud/registration/{deviceType}_{physicalId}/requests</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceType</td><td>Devices's device type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">physicalId</td><td>Device's physical ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed string or a negative value on error </dd></dl>

</div>
</div>
<a id="ae6bc0ec274f18d20093ac1dd067292ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6bc0ec274f18d20093ac1dd067292ff">&#9670;&nbsp;</a></span>commission_response_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int commission_response_topic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>physicalId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a commission response topic. </p>
<p>Constructs a commission response topic of the format: "thincloud/registration/{deviceType}_{physicalId}/requests/{requestId}/response</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceType</td><td>Devices's device type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">physicalId</td><td>Device's physical ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Unique ID for the request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed string or a negative value on error </dd></dl>

</div>
</div>
<a id="aeccf99af96aa095ea4e41128a75cd197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeccf99af96aa095ea4e41128a75cd197">&#9670;&nbsp;</a></span>commissioning_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int commissioning_request </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>physicalId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a commissioning request. </p>
<p>Construct a commissioning request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Unique ID for the request </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceType</td><td>Requesting device's type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">physicalId</td><td>Device's physical ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed payload or a negative value on error </dd></dl>

</div>
</div>
<a id="a3f8937ca07466ed1fc060c967b8171ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8937ca07466ed1fc060c967b8171ed">&#9670;&nbsp;</a></span>commissioning_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t commissioning_response </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>statusCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>payloadLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmarshall a commissioning response. </p>
<p>Unmarshall a commissioning response from a string stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">deviceId</td><td>Assigned device ID. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">statusCode</td><td>Commissioning status. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">requestId</td><td>ID of the original request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Response payload. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payloadLen</td><td>Reponse payload's length.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, a negative value otherwise </dd></dl>

</div>
</div>
<a id="abb6a737aa28611694cf6cb0971622cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6a737aa28611694cf6cb0971622cbf">&#9670;&nbsp;</a></span>send_command_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t send_command_response </td>
          <td>(</td>
          <td class="paramtype">AWS_IoT_Client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>statusCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isErrorResponse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>errorMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object *&#160;</td>
          <td class="paramname"><em>body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a command response. </p>
<p>Publish a command response to MQTT.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>AWS IoT MQTT Client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Device's ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">commandId</td><td>ID of the requested command. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">statusCode</td><td>Command's status code. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isErrorResponse</td><td>Signals if a command responds with an error. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">errorMessage</td><td>Response error message. Only used if isErrorResponse is set to true. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">body</td><td>Command response body.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value otherwise </dd></dl>

</div>
</div>
<a id="a10f8012ef03c84d930b4f6eecbd31f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f8012ef03c84d930b4f6eecbd31f0c">&#9670;&nbsp;</a></span>send_commissioning_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t send_commissioning_request </td>
          <td>(</td>
          <td class="paramtype">AWS_IoT_Client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>physicalId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send commissioning request. </p>
<p>Publish a commissioning request to MQTT.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>AWS IoT MQTT Client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Unique ID for the request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceType</td><td>Devices's device type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">physicalId</td><td>Device's physical ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value otherwise </dd></dl>

</div>
</div>
<a id="acc9184374a9f2d760286f4e050b7b97e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc9184374a9f2d760286f4e050b7b97e">&#9670;&nbsp;</a></span>send_service_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t send_service_request </td>
          <td>(</td>
          <td class="paramtype">AWS_IoT_Client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object *&#160;</td>
          <td class="paramname"><em>reqParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send service request. </p>
<p>Publish a service request to MQTT.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>AWS IoT MQTT Client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Unique ID for the request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Devices's ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>Service method to request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Service request parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value otherwise </dd></dl>

</div>
</div>
<a id="afb9364e8c6bb9e6d1a4cd14b4409b5f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb9364e8c6bb9e6d1a4cd14b4409b5f9">&#9670;&nbsp;</a></span>service_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int service_request </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marshal a service request. </p>
<p>Marshal a service request to a JSON string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Unique ID for the request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>Service method to request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Service request parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed string or a negative value on error </dd></dl>

</div>
</div>
<a id="a8f6490d44d7521c47df22a557d69af85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f6490d44d7521c47df22a557d69af85">&#9670;&nbsp;</a></span>service_request_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int service_request_topic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a service request topic. </p>
<p>Constructs a service request topic of the format: "thincloud/devices/{deviceId}/requests</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Devices's ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed string or a negative value on error </dd></dl>

</div>
</div>
<a id="af8c707008750cf2af4f74eda41f1372d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8c707008750cf2af4f74eda41f1372d">&#9670;&nbsp;</a></span>service_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t service_response </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>statusCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_object **&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>payloadLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmarshall a service response payload. </p>
<p>Unmarshall a service response from a string payload.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">requestId</td><td>Request ID of the original request. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">statusCode</td><td>Request's status. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Response's data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>Response payload. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payloadLen</td><td>Reponse payload's length.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, a negative value otherwise </dd></dl>

</div>
</div>
<a id="abad67cde59183ff29b08c8909b3ee3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad67cde59183ff29b08c8909b3ee3d4">&#9670;&nbsp;</a></span>service_response_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int service_response_topic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a service response topic. </p>
<p>Constructs a service response topic of the format: "thincloud/devices/{deviceId}/requests/s/response</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to a string buffer to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Devices's ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Request's ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the constructed string or a negative value on error </dd></dl>

</div>
</div>
<a id="af80e8155b3589d6ab203f0947acc59a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80e8155b3589d6ab203f0947acc59a0">&#9670;&nbsp;</a></span>subscribe_to_command_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t subscribe_to_command_request </td>
          <td>(</td>
          <td class="paramtype">AWS_IoT_Client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pApplicationHandler_t&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>subscribeData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to command requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>AWS IoT MQTT Client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Device's ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handler</td><td>Subscription response handler. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subscriberData</td><td>Data blob to be passed to the subscription handler on invoke.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value otherwise </dd></dl>

</div>
</div>
<a id="a2255c3713d8d0df3c6c99beb5b8d051c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2255c3713d8d0df3c6c99beb5b8d051c">&#9670;&nbsp;</a></span>subscribe_to_commissioning_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t subscribe_to_commissioning_response </td>
          <td>(</td>
          <td class="paramtype">AWS_IoT_Client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>physicalId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pApplicationHandler_t&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>subscribeData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to commissioning respones. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>AWS IoT MQTT Client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Unique ID of a request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceType</td><td>Devices's device type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">physicalId</td><td>Device's physical ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handler</td><td>Subscription response handler. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subscriberData</td><td>Data blob to be passed to the subscription handler on invoke.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value otherwise </dd></dl>

</div>
</div>
<a id="a8b3e69fc01eb8f835da79f6457499bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3e69fc01eb8f835da79f6457499bfd">&#9670;&nbsp;</a></span>subscribe_to_service_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t subscribe_to_service_response </td>
          <td>(</td>
          <td class="paramtype">AWS_IoT_Client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>requestId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pApplicationHandler_t&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>subscribeData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to service responses. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>AWS IoT MQTT Client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceId</td><td>Device's ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">requestId</td><td>Unique ID of a request. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handler</td><td>Subscription response handler. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subscriberData</td><td>Data blob to be passed to the subscription handler on invoke.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value otherwise </dd></dl>

</div>
</div>
<a id="a9da5634005c1be1fdfaeddfd5d9104e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9da5634005c1be1fdfaeddfd5d9104e0">&#9670;&nbsp;</a></span>tc_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t tc_connect </td>
          <td>(</td>
          <td class="paramtype">AWS_IoT_Client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>autoReconnect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start MQTT connection to ThinCloud host. </p>
<p>Initialize an MQTT conenction to a thincloud host.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>AWS IoT MQTT Client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clientId</td><td>An unique ID for the client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">autoReconnect</td><td>Signals if the MQTT client should attempt to auto-reconnect after connection failures.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value otherwise </dd></dl>

</div>
</div>
<a id="a30fe1e6714cb49a921d57244b10ec82f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30fe1e6714cb49a921d57244b10ec82f">&#9670;&nbsp;</a></span>tc_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoT_Error_t tc_init </td>
          <td>(</td>
          <td class="paramtype">AWS_IoT_Client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hostAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rootCAPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientCRTPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientKeyPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iot_disconnect_handler&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>disconnectData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an AWS IoT Client. </p>
<p>Initialize an AWS IoT Client instance with ThinCloud specific parameters and defaults.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client</td><td>AWS IoT MQTT Client instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hostAddr</td><td>ThinCloud host address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rootCAPath</td><td>Path to a root CA. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clientCRTPath</td><td>Path to a client CRT. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clientKeyPath</td><td>Path to a client private key. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handler</td><td>Disconnect handler. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">disconnectData</td><td>Data blob to be passed to the disconnect handler on invoke.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success, negative value otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
